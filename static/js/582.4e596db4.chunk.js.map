{"version":3,"file":"static/js/582.4e596db4.chunk.js","mappings":"+SAEMA,EAAM,mCAECC,EAAS,mCAAG,6GAEEC,EAAAA,EAAAA,IAAA,kEACsCF,EADtC,oBAFF,cAEfG,EAFe,yBAKdA,EAASC,KAAKC,SALA,gCAOrBC,QAAQC,IAAR,MAPqB,yDAAH,qDAWTC,EAAgB,mCAAG,WAAMC,GAAN,gGAELP,EAAAA,EAAAA,IAAA,4DACgCF,EADhC,kBAC6CS,EAD7C,oBAFK,cAEtBN,EAFsB,yBAKrBA,EAASC,KAAKC,SALO,gCAO5BC,QAAQC,IAAR,MAP4B,yDAAH,sDAWhBG,EAAkB,mCAAG,WAAMC,GAAN,gGAEPT,EAAAA,EAAAA,IAAA,6CACiBS,EADjB,oBAC+BX,EAD/B,oBAFO,cAExBG,EAFwB,yBAKvBA,EAASC,MALc,gCAO9BE,QAAQC,IAAR,MAP8B,yDAAH,sDAWlBK,EAAkB,mCAAG,WAAMD,GAAN,gGAEPT,EAAAA,EAAAA,IAAA,6CACiBS,EADjB,4BACuCX,EADvC,oBAFO,cAExBG,EAFwB,yBAKvBA,EAASC,KAAKS,MALS,gCAO9BP,QAAQC,IAAR,MAP8B,yDAAH,sDAWlBO,EAAkB,mCAAG,WAAMH,GAAN,gGAEPT,EAAAA,EAAAA,IAAA,6CACiBS,EADjB,4BACuCX,EADvC,oBAFO,cAExBG,EAFwB,OAK9BG,QAAQC,IAAIJ,EAASC,KAAKC,SALI,kBAMvBF,EAASC,KAAKC,SANS,gCAQ9BC,QAAQC,IAAR,MAR8B,yDAAH,qD,8IC/C/B,EAA8B,8B,SCU9B,EARwB,SAAC,GAAsB,IAApBQ,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,SAC7B,OACE,SAAC,KAAD,CAAMD,GAAIA,EAAIE,UAAWC,EAAzB,SACGF,GAGN,E,SC+ED,MA9EA,WAA6B,IAAD,IAC1B,GAA0BG,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MACXC,EAAY,oBAAGF,EAASG,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,KAK3CC,EAAAA,EAAAA,YAAU,WACVC,EAAgBR,EACjB,GAAE,CAACA,IAEJ,IAAMQ,EAAe,mCAAG,WAAOR,GAAP,uFAEpBD,GAAW,GAFS,UAGDf,EAAAA,EAAAA,IAAmBgB,GAHlB,OAGdtB,EAHc,OAIpBiB,EAASjB,GAJW,gDAOpBmB,EAAS,2BAPW,yBASrBE,GAAW,GATU,4EAAH,sDAcrB,OACE,+BACE,4BACE,SAAC,EAAD,CAAUV,GAAIe,EAAd,kBAECN,GAAW,cACXF,IAAS,yBAAMA,IACfF,IACC,4BACE,gBACEe,IAAMf,EAAMgB,YAAN,0CAAuDhB,EAAMgB,aAAgBC,EACnFC,IAAKlB,EAAMmB,SAEb,wBAAKnB,EAAMmB,SACX,6BAnCc,IAAIC,KAAKpB,EAAMqB,cAAcC,cAmC3C,QACA,wCAAgBtB,EAAMuB,eACtB,4BACE,sCACA,uBAAIvB,EAAMwB,kBAKhB,4BACU,oDACA,SAAC,KAAD,CACN7B,GAAE,kBAAaW,EAAb,SAEFK,MAAOH,EAASG,MAHV,UAKN,mCAEF,SAAC,KAAD,CACEhB,GAAE,kBAAaW,EAAb,YAEFK,MAAOH,EAASG,MAHlB,UAKE,sCAGF,SAAC,KAAD,WAKT,C","sources":["api/fetchApi.js","webpack://react-homework-template/./src/components/BackLink/BackLink.module.css?aa43","components/BackLink/BackLink.js","page/MovieDetails/MovieDetails.js"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = 'a67a3cc6cc773faaf2b2aedd9d60aa22';\n\nexport const getMovies = async () => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}&language=en-US`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getMoviesByQuery = async query => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${query}&language=en-US`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMoviesDetails = async id => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMoviesCredits = async id => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}&language=en-US`\n    );\n    return response.data.cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMoviesReviews = async id => {\n  try {\n    const response = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US`\n    );\n    console.log(response.data.results);\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button_back\":\"BackLink_button_back__zTYKQ\"};","import { Link } from 'react-router-dom';\nimport css from 'components/BackLink/BackLink.module.css';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <Link to={to} className={css.button_back}>\n      {children}\n    </Link>\n  );\n};\n\nexport default BackLink;\n","\nimport {useEffect, useState } from 'react';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\n\nimport { fetchMoviesDetails } from 'api/fetchApi';\nimport BackLink from 'components/BackLink/BackLink'\n\nimport NoImage from 'components/img/no-img.png' \n\n\nfunction DetailsMoviePage() {\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? \"/\";\n\n    const getYear = () => new Date(movie.release_date).getFullYear(); \n    \n    \n    useEffect(() => {\n    getDetailsMovie(movieId);\n  }, [movieId]);\n\n  const getDetailsMovie = async (movieId) => {\n    try {\n      setLoading(true);\n      const data = await fetchMoviesDetails(movieId);\n      setMovie(data);\n     \n    } catch {\n      setError('Something went wrong...');\n    } finally {\n     setLoading(false);\n    }\n  }  \n    \n\n  return (\n    <>\n      <div>\n        <BackLink to={backLinkHref}>Back</BackLink>\n        \n        {loading && 'Loading ...'}\n        {error && <div>{error}</div>}\n        {movie && (\n          <div>\n            <img\n              src={ movie.poster_path ? `https://image.tmdb.org/t/p/w200/${movie.poster_path}` : NoImage}\n              alt={movie.title}\n            />\n            <h3>{movie.title}</h3>\n            <p>({getYear()})</p>\n            <p>User Score: {movie.popularity}</p>\n            <div>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n            </div>\n          </div>\n        )}\n        \n        <div>\n                  <h2>Additional Information</h2>\n                  <NavLink\n            to={`/movies/${movieId}/cast`}\n            \n            state={location.state}\n          >\n            <p>Cast</p>\n          </NavLink>\n          <NavLink\n            to={`/movies/${movieId}/reviews`}\n           \n            state={location.state}\n          >\n            <p>Reviews</p>\n          </NavLink>\n\n          <Outlet />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default DetailsMoviePage;"],"names":["KEY","getMovies","axios","response","data","results","console","log","getMoviesByQuery","query","fetchMoviesDetails","id","fetchMoviesCredits","cast","fetchMoviesReviews","to","children","className","css","useState","movie","setMovie","error","setError","loading","setLoading","movieId","useParams","location","useLocation","backLinkHref","state","from","useEffect","getDetailsMovie","src","poster_path","NoImage","alt","title","Date","release_date","getFullYear","popularity","overview"],"sourceRoot":""}